<!-- Turbine transfers - not read only-->
<div class="row single-block-print">
  <div *ngIf="!readonly" class="col-xl-12 col-lg-24 singlepage-print-port">
    <div class="card mb-3">
      <div class="card-header">
        Turbine transfers for daughtercraft: {{vesselName}}
      </div>
      <div class="card-body table-responsive">
        <table class="table table-hover table-striped table-bordered-print">
          <thead>
            <tr>
              <th>Location</th>
              <th>Start time transfer</th>
              <th>Stop time transfer</th>
              <th>Pax in / out</th>
              <th>Cargo in / out</th>
            </tr>
          </thead>
          <tbody>
            <ng-container *ngFor="let turbineTransfer of transfers">
              <tr>
                <th>{{turbineTransfer.location}}</th>
                <td>{{getMatlabDateToCustomJSTime(turbineTransfer.startTime, 'HH:mm')}}</td>
                <td>{{getMatlabDateToCustomJSTime(turbineTransfer.stopTime, 'HH:mm')}}</td>
                <td>
                  <input type="number" min="0" class="form-control-sm col-sm-5" placeholder="0" [(ngModel)]="turbineTransfer.paxIn"
                    (ngModelChange)="updatePaxCargoTotal()"> incoming <br>
                  <input type="number" min="0" class="form-control-sm col-sm-5" placeholder="0" [(ngModel)]="turbineTransfer.paxOut"
                    (ngModelChange)="updatePaxCargoTotal()"> outgoing
                </td>
                <td>
                  <input type="number" min="0" class="form-control-sm col-sm-5" placeholder="0" [(ngModel)]="turbineTransfer.cargoIn"
                    (ngModelChange)="updatePaxCargoTotal()"> kg incoming <br>
                  <input type="number" min="0" class="form-control-sm col-sm-5" placeholder="0" [(ngModel)]="turbineTransfer.cargoOut"
                    (ngModelChange)="updatePaxCargoTotal()"> kg outgoing
                </td>
              </tr>
            </ng-container>
            <tr class="tableTotal">
              <th>Missed transfers</th>
              <th>
                Start time transfer
              </th>
              <th>Stop time transfer</th>
              <td>
                <button class="btn btn-sm btn-success" (click)="addMissedTransferToArray(); updatePaxCargoTotal()"
                  type="button">add missed transfer</button>
              </td>
              <td>
                <button class="btn btn-sm btn-danger"
                  (click)="removeLastFromMissedTransferArray(); updatePaxCargoTotal()" type="button">remove last
                  transfer</button>
              </td>
            </tr>
            <tr *ngFor="let transfer of missedPaxCargo">
              <td><input type="text" min="0" class="form-control-sm col-sm-8" [value]="transfer.location"
                  [(ngModel)]="transfer.location" (ngModelChange)="updatePaxCargoTotal()" placeholder="turbine"></td>
              <td><input type="text" min="0" class="form-control-sm col-sm-3 col-print-3"
                  [(ngModel)]="transfer.from.hour" (ngModelChange)="updatePaxCargoTotal()" placeholder="HH">
                <span class="col-print-1">:</span>
                <input type="text" min="0" class="form-control-sm col-sm-3 col-print-3"
                  [(ngModel)]="transfer.from.minutes" (ngModelChange)="updatePaxCargoTotal()" placeholder="MM">
              </td>
              <td><input type="text" min="0" class="form-control-sm col-sm-3 col-print-3" [(ngModel)]="transfer.to.hour"
                  (ngModelChange)="updatePaxCargoTotal()" placeholder="HH">
                <span class="col-print-1">:</span>
                <input type="text" min="0" class="form-control-sm col-sm-3 col-print-3"
                  [(ngModel)]="transfer.to.minutes" (ngModelChange)="updatePaxCargoTotal()" placeholder="MM">
              </td>
              <td>
                <input type="number" min="0" class="form-control-sm col-sm-5" [(ngModel)]="transfer.paxIn"
                  (ngModelChange)="updatePaxCargoTotal()">
                incoming <br>
                <input type="number" min="0" class="form-control-sm col-sm-5" [(ngModel)]="transfer.paxOut"
                  (ngModelChange)="updatePaxCargoTotal()">
                outgoing
              </td>
              <td>
                <input type="number" min="0" class="form-control-sm col-sm-5" [(ngModel)]="transfer.cargoIn"
                  (ngModelChange)="updatePaxCargoTotal()">
                kg
                incoming <br>
                <input type="number" min="0" class="form-control-sm col-sm-5" [(ngModel)]="transfer.cargoOut"
                  (ngModelChange)="updatePaxCargoTotal()">
                kg
                outgoing
              </td>
              <td></td>
              <td></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- Turbine transfers - readonly-->
<div class="row single-block-print">
  <div *ngIf="readonly" class="col-xl-12 col-lg-24 singlepage-print-port">
    <div class="card mb-3">
      <div class="card-header">
        Turbine transfers
      </div>
      <div class="card-body table-responsive">
        <table class="table table-hover table-striped table-bordered-print">
          <thead>
            <tr>
              <th>Location</th>
              <th>Start time transfer</th>
              <th>Stop time transfer</th>
              <th>Pax in / out</th>
              <th>Cargo in / out</th>
            </tr>
          </thead>
          <tbody>
            <ng-container *ngFor="let turbineTransfer of transfers">
              <tr>
                <th>{{turbineTransfer.location}}</th>
                <td>{{getMatlabDateToCustomJSTime(turbineTransfer.startTime, 'HH:mm')}}</td>
                <td>{{getMatlabDateToCustomJSTime(turbineTransfer.stopTime, 'HH:mm')}}</td>
                <td>
                  {{turbineTransfer.paxIn}} incoming <br>
                  {{turbineTransfer.paxOut}} outgoing
                </td>
                <td>
                  {{turbineTransfer.cargoIn}} kg incoming <br>
                  {{turbineTransfer.cargoOut}} kg outgoing
                </td>
              </tr>
            </ng-container>
            <tr class="tableTotal">
              <th>Missed transfers</th>
              <th>
                Start time transfer
              </th>
              <th>Stop time transfer</th>
              <td colspan="6"></td>
            </tr>
            <tr *ngFor="let transfer of missedPaxCargo">
              <td>{{transfer.location}}</td>
              <td>{{transfer.from.hour}}:{{transfer.from.minutes}}</td>
              <td>{{transfer.to.hour}}:{{transfer.to.minutes}}</td>
              <td colspan="4"></td>
              <td>
                {{transfer.paxIn || 0}} incoming <br>
                {{transfer.paxOut || 0}} outgoing
              </td>
              <td>
                {{transfer.cargoIn || 0}} kg incoming <br>
                {{transfer.cargoOut || 0}} kg outgoing
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
