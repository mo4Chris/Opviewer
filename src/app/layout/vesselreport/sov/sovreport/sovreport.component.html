<div *ngIf="locShowContent">
    <br />
    <div class="row">
        <div class="col-xl-12 col-lg-24">
            <div class="card mb-3">
                <div class="card-header">Daily Summary</div>
                <div class="card-body">
                    <div class="col-xl-6" style="display: inline-block">
                        <table class="table table-responsive tableSummary">
                            <ng-container>
                                <tr>
                                    <td>Departure port</td>
                                    <td> - </td>
                                </tr>
                                <tr *ngIf="sovModel.sovInfo.departureFromHarbour != 'N/a'">
                                    <td>Departure from harbour</td>
                                    <td>{{GetMatlabDateToJSTime(sovModel.sovInfo.departureFromHarbour)}}</td>
                                </tr>
                                <tr *ngIf="sovModel.sovInfo.arrivalAtHarbour != 'N/a'">
                                    <td>Arrival at harbour</td>
                                    <td>{{GetMatlabDateToJSTime(sovModel.sovInfo.arrivalAtHarbour)}}</td>
                                </tr>
                                <tr *ngIf="sovModel.sovInfo.distancekm != 'N/a'">
                                    <td>Distance</td>
                                    <td>{{getDistanceInKm()}} km</td>
                                </tr>
                            </ng-container>
                            <ng-container *ngIf="sovModel.sovType == SovTypeEnum.Platform && sovModel.platformTransfers.length > 0">
                                <tr>
                                    <td>Number of platforms visited</td>
                                    <td>{{sovModel.platformTransfers.length}}</td>
                                </tr>
                                <tr>
                                    <td>Average time in waiting zone</td>
                                    <td>{{sovModel.summary.AvgTimeInWaitingZone}}</td>
                                </tr>
                                <tr>
                                    <td>Average time in exclusion zone</td>
                                    <td>{{sovModel.summary.AvgTimeInExclusionZone}}</td>
                                </tr>
                                <tr>
                                    <td>Average time spent docking</td>
                                    <td>{{sovModel.summary.AvgTimeDocking}}</td>
                                </tr>
                                <tr>
                                    <td>Average time travelling between assets</td>
                                    <td>{{sovModel.summary.AvgTimeTravelingToPlatforms}}</td>
                                </tr>
                            </ng-container>
                            <ng-container *ngIf="sovModel.sovType == SovTypeEnum.Turbine && sovModel.turbineTransfers.length > 0">
                                <tr>
                                    <td>Number of turbine transfers</td>
                                    <td>{{sovModel.turbineTransfers.length}}</td>
                                </tr>
                                <tr>
                                    <td>Average time spent docking</td>
                                    <td>{{sovModel.summary.AvgTimeDocking}}</td>
                                </tr>
                            </ng-container>
                            <ng-container *ngIf="sovModel.summary.NrOfVesselTransfers > 0">
                                <tr>
                                    <th>Number of vessels</th>
                                    <td>{{sovModel.summary.NrOfVesselTransfers}}</td>
                                </tr>
                                <tr>
                                    <td>Average time spent docking</td>
                                    <td>{{sovModel.summary.AvgTimeVesselDocking}}</td>
                                </tr>
                            </ng-container>
                            <ng-container *ngIf="sovModel.summary.NrOfDaughterCraftLaunches > 0">
                                <tr>
                                    <th>Number of daughter-craft launches</th>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>DC sailing time</td>
                                    <td></td>
                                </tr>
                            </ng-container>
                            <ng-container *ngIf="sovModel.summary.NrOfHelicopterVisits > 0">
                                <tr>
                                    <th>Number of helicopter visits</th>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Average time helicopter on deck</td>
                                    <td></td>
                                </tr>
                            </ng-container>
                            <tr *ngIf="sovModel.summary.maxSignificantWaveHeightdDuringOperations > 0">
                                <td>Maximum significant wave height during operations</td>
                                <td>{{sovModel.summary.maxSignificantWaveHeightdDuringOperations}} m</td>
                            </tr>
                            <tr *ngIf="sovModel.summary.maxWindSpeedDuringOperations > 0">
                                <td>Maximum wind speed during operations</td>
                                <td>{{sovModel.summary.maxWindSpeedDuringOperations.toFixed(1)}} km/hour</td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-xl-6" style="display: inline-block">
                        <div *ngIf="operationalChartCalculated">
                            <canvas id="operationalStats"></canvas>
                        </div>
                        <div *ngIf="sovHasLimiters">
                            <canvas id="gangwayLimitations"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row" *ngIf="sovModel.platformTransfers.length > 0 || sovModel.turbineTransfers.length > 0">
        <br />
        <div class="col-xl-12 col-lg-24">
            <div *ngIf="sovModel.sovType == SovTypeEnum.Platform && sovModel.platformTransfers.length > 0">
                <div class="card mb-3">
                    <div class="card-header">Platform docking list</div>
                    <div class="card-body table-responsive">
                        <table class="table table-hover table-striped">
                            <thead>
                                <tr>
                                    <th>Location</th>
                                    <th>Enter waiting zone</th>
                                    <th>Enter Exclusion Zone</th>
                                    <th>Arrival time platform</th>
                                    <th>Departure time platform</th>
                                    <th>Leave Exclusion Zone</th>
                                    <th>Total duration</th>
                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngFor="let platformTransfer of sovModel.platformTransfers">
                                    <tr>
                                        <th>{{platformTransfer.location}}</th>
                                        <td>{{GetMatlabDateToCustomJSTime(platformTransfer.Tentry1000mWaitingRange, 'HH:mm')}}</td>
                                        <td>{{GetMatlabDateToCustomJSTime(platformTransfer.startTime, 'HH:mm')}}</td>
                                        <td>{{GetMatlabDateToCustomJSTime(platformTransfer.timeGangwayReady, 'HH:mm')}}</td>
                                        <td>{{GetMatlabDateToCustomJSTime(platformTransfer.timeGangwayRetracted, 'HH:mm')}}</td>
                                        <td>{{GetMatlabDateToCustomJSTime(platformTransfer.TexitExclusionZone, 'HH:mm')}}</td>
                                        <td>{{GetMatlabDurationToMinutes(platformTransfer.totalDuration)}}</td>
                                    </tr>
                                </ng-container>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div *ngIf="sovModel.sovType == SovTypeEnum.Turbine && sovModel.turbineTransfers.length > 0">
                <div class="card mb-3">
                    <div class="card-header">Turbine transfers</div>
                    <div class="card-body table-responsive">
                        <table class="table table-hover table-striped">
                            <thead>
                                <tr>
                                    <th>Location</th>
                                    <th>Start time</th>
                                    <th>Stop time</th>
                                    <th>Duration</th>
                                    <th>Gangway Utilisation</th>
                                    <th>Peak gust wind</th>
                                    <th>Hs</th>
                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngFor="let turbineTransfer of sovModel.turbineTransfers">
                                    <tr>
                                        <th>{{turbineTransfer.location}}</th>
                                        <td>{{GetMatlabDateToCustomJSTime(turbineTransfer.startTime, 'HH:mm')}}</td>
                                        <td>{{GetMatlabDateToCustomJSTime(turbineTransfer.stopTime, 'HH:mm')}}</td>
                                        <td>{{GetMatlabDurationToMinutes(turbineTransfer.duration)}}</td>
                                        <td>{{turbineTransfer.gangwayUtilisation}}</td>
                                        <td>{{turbineTransfer.peakWindGust.toFixed(1)}} m/s</td>
                                        <td>{{turbineTransfer.Hs}}</td>
                                    </tr>
                                </ng-container>
                            </tbody>
                        </table>
                    </div>                    
                </div>
            </div>
        </div>
    </div>
    <br />
    <div class="row" *ngIf="sovModel.platformTransfers.length > 0 || sovModel.turbineTransfers.length > 0">
        <div class="col-xl-12 col-lg-24">
            <div class="card mb-3">
                <div class="card-header">
                    Gangway usage
                </div>
                <div class="card-body table-responsive">
                    <table class="table table-hover table-striped">
                        <thead>
                            <tr>
                                <th>Platform</th>
                                <th>Deployed duration [min]</th>
                                <th>Ready Duration [min]</th>
                                <th>Utilisation [%]</th>
                                <th>Limiter</th>
                            </tr>
                        </thead>
                        <tbody>
                            <ng-container *ngIf="sovModel.sovType == SovTypeEnum.Platform">
                                <tr *ngFor="let platformTransfer of sovModel.platformTransfers">
                                    <td>{{platformTransfer.locationname}}</td>
                                    <td>{{GetMatlabDurationToMinutes(platformTransfer.aproachTime)}}</td>
                                    <td>{{GetMatlabDurationToMinutes(platformTransfer.visitDuration)}}</td>
                                    <td>{{platformTransfer.gangwayUtilisation}}</td>
                                    <td>-</td>
                                </tr>
                            </ng-container>
                            <ng-container *ngIf="sovModel.sovType == SovTypeEnum.Turbine">
                                <tr *ngFor="let turbineTransfer of sovModel.turbineTransfers">
                                    <td>{{turbineTransfer.location}}</td>
                                    <td>{{GetMatlabDurationToMinutes(turbineTransfer.gangwayDeployedDuration)}}</td>
                                    <td>{{GetMatlabDurationToMinutes(turbineTransfer.gangwayReadyDuration)}}</td>
                                    <td>{{turbineTransfer.gangwayUtilisation}}</td>
                                    <td>{{turbineTransfer.gangwayUtilisationLimiter}}</td>
                                </tr>
                            </ng-container>
                        </tbody>
                    </table>         
                </div>
            </div>
        </div>
        <br />
    </div>

    <!-- sovModel.sovType == SovTypeEnum.Turbine && -->
    <div class="row" *ngIf="sovModel.vessel2vessels.length > 0">
        <div class="col-xl-12 col-lg-24">
            <div class="card mb-3">
                <div class="card-header">
                    Vessel Transfers
                </div>
                <div class="card-body table-responsive">
                    <table class="table table-hover table-striped">
                        <thead>
                            <tr>
                                <th>From vessel</th>
                                <th>To vessel</th>
                                <th>Start time</th>
                                <th>End time</th>
                                <th>Duration [min]</th>
                                <th>Peak wind gust [km/hr]</th>
                                <th>Peak heave [m]</th>
                            </tr>
                        </thead>
                        <tbody>
                            <ng-container *ngFor="let vessel2vessel of sovModel.vessel2vessels">
                                <tr>
                                    <th><a [routerLink]="" (click)="open(content, vessel2vessel.CTVactivity.map.lat, vessel2vessel.CTVactivity.map.lon, vessel2vessel)">{{vessel2vessel.transfers.vesselname}}</a></th>
                                    <td>{{vessel2vessel.transfers.toVesselname}}</td>
                                    <td>{{GetMatlabDateToCustomJSTime(vessel2vessel.transfers.startTime, 'HH:mm')}}</td>
                                    <td>{{GetMatlabDateToCustomJSTime(vessel2vessel.transfers.stopTime, 'HH:mm')}}</td>
                                    <td>{{GetMatlabDurationToMinutes(vessel2vessel.transfers.duration)}}</td>
                                    <td></td>
                                    <td></td>
                                    <!-- <td>{{vessel2vessel.transfers.peakWindGust.toFixed(1)}}</td>
                                    <td>{{vessel2vessel.transfers.peakWindAvg.toFixed(1)}}</td>       -->
                                </tr>
                            </ng-container>
                        </tbody>
                    </table>         
                </div>
            </div>
        </div>
    </div>

    <ng-template #content let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">{{vessel2vesselActivityRoute.vessel}} activity</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <agm-map [latitude]="vessel2vesselActivityRoute.lat" [longitude]="vessel2vesselActivityRoute.lon" [zoom]="9" [mapTypeId]="'roadmap'">
                <agm-polyline [strokeColor]="'#FF0000'" [strokeWeight]="1.5">
                    <ng-container *ngFor="let loc of vessel2vesselActivityRoute.latCollection; let i = index">
                        <agm-polyline-point  [latitude]="objectToInt(loc)" [longitude]="objectToInt(vessel2vesselActivityRoute.lonCollection[i])" >
                        </agm-polyline-point>
                    </ng-container>
                </agm-polyline>
            </agm-map>
        </div>
    </ng-template>

    <!-- <div *ngIf="sovModel.sovType == SovTypeEnum.Turbine && sovModel.turbineActivities.length > 0">
        <div *ngFor="let vessel2vessel of sovModel.turbineActivities">
            <div class="row">
                <div class="col-xl-12 col-lg-24">
                    <div class="card mb-3">
                        <div class="card-header">
                            <b>Vessel Activity:</b> {{vessel2vessel.toVesselname}}
                        </div>
                        <div class="card-body table-responsive">
                            <table class="table table-hover table-striped">
                                <thead>
                                    <tr>
                                        <th>Start time</th>
                                        <th>End time</th>
                                        <th>Duration [min]</th>
                                        <th>Turbine</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let activity of vessel2vessel.turbineActivity">
                                        <td>{{GetMatlabDateToJSTime(activity.startTime)}}</td>
                                        <td>{{GetMatlabDateToJSTime(activity.stopTime)}}</td>
                                        <td>{{activity.durationMinutes}}</td>
                                        <td>{{activity.location}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <div class="row">
        <div class="offset-lg-2 col-lg-8">
            <div class="chart-container dockingGraph">
                <canvas id="weatherLimitDocking1Graph"></canvas>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="offset-lg-2 col-lg-8">
            <div class="chart-container dockingGraph">
                <canvas id="weatherLimitDocking2Graph"></canvas>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="offset-lg-2 col-lg-8">
            <div class="chart-container dockingGraph">
                <div class="dockingGraph">
                    <canvas id="weatherLimitDocking3Graph"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>