<div *ngIf="showContent; else loading">
  <div class="row">
    <div class="col-sm-12 col-md-12 col-lg-6">
      <div class='card mb-3'>
        <div class='card-header'>
          Operation overview
        </div>
        <div class='card-body table-responsive'>
          <app-forecast-ops-picker [operations]="operations" [(selectedOperation)]="selectedOperation">
          </app-forecast-ops-picker>
        </div>
      </div>
    </div>
    <div class="col-sm-12 col-md-12 col-lg-6" style="height: 100%">
      <div class='card mb-3'>
        <div class='card-header'>
          Operation time
        </div>
        <div class='card-body table-responsive'>
          <table class='table table-hover table-striped'>
            <tbody class='sep-row'>
              <tr>
                <td>Operation date</td>
                <td class="flex-container">
                  <input class="form-control form-control-md" ngbDatepicker #dp="ngbDatepicker" [(ngModel)]="date"
                    [minDate]="minForecastDate" [displayMonths]='1' (ngModelChange)="onTimeChange()"
                    [maxDate]="maxForecastDate" >
                  <button id="datePickBtn" class="input-group-addon" (click)="dp.toggle()" type="button">
                    <span class="fa fa-calendar"></span>
                  </button>
                </td>
              </tr>
              <tr>
                <td>Start time</td>
                <td class="flex-container">
                  <input class="form-control form-control-md" (change)="onTimeChange()" [(ngModel)]="startTimeInput.hour" type="number" max="24" placeholder="HH">
                  <input class="form-control form-control-md" (change)="onTimeChange()" [(ngModel)]="startTimeInput.mns" type="number" max="59" placeholder="MM">
                </td>
              </tr>
              <tr>
                <td>Stop time</td>
                <td class="flex-container">
                  <input class="form-control form-control-md" (change)="onTimeChange()" [(ngModel)]="stopTimeInput.hour" type="number" max="24" placeholder="HH">
                  <input class="form-control form-control-md" (change)="onTimeChange()" [(ngModel)]="stopTimeInput.mns" type="number" max="59" placeholder="MM">
                </td>
              </tr>
              <tr>
                <td>Operational duration</td>
                <td>
                  {{formattedDuration}}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-12 col-md-12 col-lg-6">
      <div class='card mb-3'>
        <div class='card-header'>
          Heading
        </div>
        <div class='card-body table-responsive'>
          <app-heading-picker [(heading)]="selectedHeading">
          </app-heading-picker>
        </div>
      </div>
    </div>
    <div class="col-sm-12 col-md-12 col-lg-6">
      <app-forecast-limits-picker [(limits)]="limits">
      </app-forecast-limits-picker>
    </div>
  </div>

  <div class="div-spacing"></div>

  <app-forecast-workability [response]="response" [limits]="limits" [heading]="selectedHeading"
    [startTime]="startTime" [stopTime]="stopTime">
  </app-forecast-workability>
</div>


<ng-template #loading>
  <app-ng-loading></app-ng-loading>
</ng-template>